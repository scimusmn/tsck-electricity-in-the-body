#include "Diablo_Graph.h"

#define LO_PIN 5
#define DISPLAY_RESET_PIN 4

smm::DiabloGraph graph(&Serial, DISPLAY_RESET_PIN);

void setup() {
   pinMode(LO_PIN, INPUT);
   Serial.begin(9600);
   graph.setup();
}

void loop()
{
   bool leadsOff = digitalRead(LO_PIN);
   if (!leadsOff) {
      double value = ((double) analogRead(A0))/1024;
      graph.push(1 - value);
   }
}
